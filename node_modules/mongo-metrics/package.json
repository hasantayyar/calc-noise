{
  "name": "mongo-metrics",
  "preferGlobal": "true",
  "version": "0.1.7",
  "description": "Tracking Metrics with MongoDb",
  "keywords": [
    "metrics",
    "mongodb",
    "track"
  ],
  "author": {
    "name": "Arunoda Susiripala",
    "email": "arunoda.susiripala@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/arunoda/mongo-metrics.git"
  },
  "engines": {
    "node": ">= 0.8.x",
    "npm": ">= 1.1.x"
  },
  "main": "./lib/mongoMetrics.js",
  "bin": {
    "mongo-metrics": "./bin/mongo-metrics"
  },
  "scripts": {
    "test": "test/index.js"
  },
  "dependencies": {
    "mongodb": "1.2.x",
    "express": "3.x.x",
    "ejs": "0.8.x",
    "optimist": "0.3.x",
    "qbox": "0.1.x"
  },
  "devDependencies": {
    "mongojs": "0.4.x",
    "mocha": "1.x.x"
  },
  "readme": "mongo-metrics\n=============\n\nWhen its comes to metrics, aggregations plays a huge role. If that fails, then there is no use of collecting metrics. Here is the how `mongo-metrics` thinks about it.\n\n* There are sources who generate metrics\n* metrics will be collected with the awareness of the source\n* When it comes aggregations, metrics will be aggregated in 2 steps\n* It will first aggregate values in each source, then result will be aggregated \n* function which used to aggregate metrics can be specified in runtime\n* result will be grouped into time resolutions\n\n## Design Decisions\n\n* Cloud Ready\n* Portable and Flexible Design\n* Simple to use\n\n## Dependencies\n\n* Mongodb (2.1+)\n* NodeJs\n\n## Tracking Metrics\n\n>Currently tracking is only supported for `nodejs` apps. For other apps, you have to wait for UDP and HTTP APIs (patches are welcome)\n\n~~~js\n\tvar MongoMetrics = require('mongo-metrics');\n\n\tvar MONGODB_URL = \"mongodb://localhost/test\";\n\tvar metrics = new MongoMetrics(MONGODB_URL);\n\n\tmetrics.track('no-of-users', 344, 'my-source', function(err) {\n\n\t});\n~~~\n\n## Aggregate Metrics\n\n>This API is for developer who need to play with metrics. Use dashboard(see below) which build on top of this API\n\n#### API\n\n \t@param {String} name - name of the metric\n        @param {Constant} resolution - resolution type\n            possible values: \"DAY\", \"HOUR\", \"MINUTE\", \"FIVE_SECS\"\n        @param {String} valueAggregator - aggregation function to be used for aggregating metric of the each source\n            possible values: \"sum\", \"avg\", \"min\", \"max\"\n        @param {String} sourceAggregator - aggregation function to be used for the aggregating sources(value from metricsAggregation)\n            possible values: \"sum\", \"avg\", \"min\", \"max\"\n        @param {Object} query - mongodb query for filtering out metrics\n            only supports date and source only\n        @param {Function} callback - callback function\n            callback(err, results)\n    \n    MongoMetrics.aggregate = function(name, resolution, valueAggregator, sourceAggregator, query, callback){}\n\n#### Example\n\n~~~js\n\t\nvar MongoMetrics = require('mongo-metrics');\n\nvar MONGODB_URL = \"mongodb://localhost/test\";\nvar metrics = new MongoMetrics(MONGODB_URL);\n\nmetrics.aggregate('no-of-users', 'hour', 'avg', 'sum', {date: { $gte: 1361030882576 }}, function(err, result) {\n\n});\n~~~\n\n## Dashboard \n\nWith Dashboard you can correlate and visualize your metrics. There are few ways you can access the dashboard.\n\n![Dashboard](docs/dashboard.png)\n\n#### 1. Standalone App\n\n##### Install `mongo-metrics` binary via `npm`\n    npm install mongo-metrics -g\n\n##### Start Dashboard\n    mongo-metrics -m <mongodb url>\n\n#### 2. With NodeJS\n\n~~~js\nvar dashboard = require('mongo-metrics/dashboard');\n\nvar MONGO_URL = \"mongodb://localhost/test\";\nvar PORT = 5005;\ndashboard.listen(MONGO_URL, PORT);\n~~~\n\n#### 3. Embed with an existing `express` webapp\n\n~~~js\nvar express     = require('express');\nvar dashboard   = require('mongo-metrics/dashboard');\nvar webapp      = express();\n\nvar MONGO_URL = \"mongodb://localhost/test\";\ndashboard.listen(MONGO_URL, webapp);\n\nwebapp.listen(5005);\n~~~\n\n### Defining Graphs\n\n![Dashboard](docs/configure-dashboard.png)\n\nInside the Dashboard you can create as many graphs as you need. You can correlate metrics too. (use area chart type)\n\nThere is no UI for defining graphs. But we have simple and flexible syntax to define them. \n>We simply did no use JSON since, it is too heavy for taking user inputs \n\n#### Syntax\n\nHere is how you define a graph. \n\n    <title for graph> | <graph-type> | <metric-name> | <value-aggregator>, <source-aggregator> | <resolution> | <time-length>\n\neg:- `CPU Usage | area | cpu | avg, sum | five_secs | 1000 * 60 * 15`\n\n* Supported values for `graph-type` : `area`, `line`\n* Supported values for `value-aggregator` : sum, avg, min, max\n* Supported values for `source-aggregator` : sum, avg, min, max\n* Supported values for `resolution` : five_secs, minute, hour, day\n* You can use multiple lines to specify multiple graphs\n* Empty lines add empty block to dashboard instead of the graph\n\n### Permalink URLs\n\n* Configuration you do will be saved in the URL. \n* So you can simply copy URL and share with others.\n* You can http://bit.ly or http://goo.gl to shorten the URL\n\n## Todo\n\nSee: [Issues](https://github.com/arunoda/mongo-metrics/issues?labels=todo&milestone=none&page=1&state=open)\n",
  "_id": "mongo-metrics@0.1.7",
  "dist": {
    "shasum": "720c22f40fb1afc609dbc483e5d9af334cb201cc"
  },
  "_from": "./mongo-metrics"
}
